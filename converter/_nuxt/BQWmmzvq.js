import{s as N}from"./Dh3SGnmk.js";import{q as M,s as B,u as U,o as _,c as V,a as g,b as $,v as h,x as q,_ as w,F as O,y as I,z as s,A as K,B as x,r as z,C as A}from"./Uffho9UJ.js";const S={class:"ConverterField"},D=M({__name:"ConverterField",props:B({options:{}},{currency:{required:!0},currencyModifiers:{},value:{required:!0},valueModifiers:{}}),emits:["update:currency","update:value"],setup(y){const i=U(y,"currency"),p=U(y,"value");function d(u){p.value=Number(u.value)}return(u,o)=>{const l=q,v=N;return _(),V("div",S,[g("div",{class:h(u.$style.wrapper)},[$(l,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=t=>i.value=t),options:u.options,"option-label":"name","option-value":"code",placeholder:"Выберите валюту",class:"w-full md:w-56"},null,8,["modelValue","options"]),$(v,{"model-value":p.value,"onUpdate:modelValue":o[1]||(o[1]=t=>p.value=t),"input-id":"minmaxfraction","use-grouping":!1,"max-fraction-digits":2,fluid:"",onInput:d},null,8,["model-value"])],2)])}}}),E="_wrapper_17our_1",L={wrapper:E},P={$style:L},R=w(D,[["__cssModules",P]]),T={class:"ConvertPage"},j=M({__name:"convert",setup(y){function i(){const{currencyOptions:l,rates:v}=K(x()),t=Array.from({length:2},(e,a)=>({currency:l.value[a].code,value:null})),r=z(t);function n(e){return new Map([[0,1],[1,0]]).get(e)}function c(e,a,m){if(r.value[e].value===a&&!m)return;r.value[e].value=a;const f=n(e),C=r.value[e].currency,F=r.value[f].currency;r.value[f].value=Number((Number(r.value[e].value)*v.value[`${C}-${F}`]).toFixed(2))}function b(e,a){const m=n(e),f=r.value[e].currency,C=r.value[m].currency;a===C&&(r.value[m].currency=f),r.value[e].currency=a,c(e,r.value[e].value,!0)}return{currencyOptions:l,actualValue:r,handleUpdateCurrency:b,handleUpdateValue:c}}const{currencyOptions:p,actualValue:d,handleUpdateCurrency:u,handleUpdateValue:o}=i();return(l,v)=>{const t=R;return _(),V("section",T,[g("div",{class:h(l.$style.wrapper)},[(_(!0),V(O,null,I(s(d),(r,n)=>(_(),A(t,{key:n,options:s(p),currency:s(d)[n].currency,value:s(d)[n].value,"onUpdate:currency":c=>s(u)(n,c),"onUpdate:value":c=>s(o)(n,c)},null,8,["options","currency","value","onUpdate:currency","onUpdate:value"]))),128))],2)])}}}),G="_wrapper_ql29t_1",H={wrapper:G},J={$style:H},X=w(j,[["__cssModules",J]]);export{X as default};
